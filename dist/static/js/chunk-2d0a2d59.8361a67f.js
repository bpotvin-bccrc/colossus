(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a2d59"],{"0036":function(t,e,l){"use strict";l.r(e);var o=function(){var t=this,e=t.$createElement,l=t._self._c||e;return t.modelComputed?l("v-card",{staticStyle:{"border-radius":"0px"},attrs:{height:"calc(100vh - 70px)"}},[l("v-tabs",{attrs:{color:"white",right:""}},[l("v-tab",[t._v("Information")]),t.schoolingsExist?l("v-tab",[t._v("Additional")]):t._e(),l("v-tab",[t._v("Relations")]),l("v-tab",[t._v("Edit")]),l("v-tab",[t._v("Delete")]),l("v-tab-item",[l("v-container",[l("v-layout",[l("blockquote",{staticClass:"blockquote",staticStyle:{height:"calc(100vh - 150px)",width:"100%","overflow-y":"scroll"}},[l("span",{staticClass:"display-2"},[t._v(t._s(t.modelTitle)+" "+t._s(t.modelFields.id.value))]),l("br"),l("br"),l("ul",{staticStyle:{"list-style-type":"none","padding-left":"0px"}},t._l(t.modelFields,function(e,o){return l("li",{staticClass:"body-1",staticStyle:{clear:"both"}},[l("div",{staticStyle:{float:"left",width:"30%"}},[l("b",[t._v(t._s(t.titleEdit(o))+":")])]),l("div",{staticStyle:{float:"left",width:"50%"}},[t._v(t._s(t.printNone(e.value)))]),l("v-divider")],1)}),0),l("br"),l("v-divider"),l("br"),t._l(t.modelChildren,function(e,o){return l("div",{staticStyle:{"margin-top":"20px"}},[l("span",{staticClass:"display-1"},[t._v(t._s(e.title))]),l("br"),l("ul",{staticStyle:{"list-style-type":"none","padding-left":"0px"}},t._l(e.fields,function(e,o){return l("li",{staticClass:"body-1",staticStyle:{clear:"both"}},[l("div",{staticStyle:{float:"left",width:"30%"}},[l("b",[t._v(t._s(t.titleEdit(o))+":")])]),l("div",{staticStyle:{float:"left",width:"50%"}},[t._v(t._s(t.printNone(e.value)))]),l("v-divider")],1)}),0),l("br"),l("v-divider")],1)})],2)])],1)],1),t.schoolingsExist?l("v-tab-item",[l("v-container",{staticStyle:{height:"calc(90vh - 70px)","overflow-y":"scroll"}},[l("SchoolingComponent",{attrs:{schoolings:t.modelSchoolings}})],1)],1):t._e(),l("v-tab-item",[l("v-container",{staticStyle:{height:"calc(90vh - 70px)","overflow-y":"scroll"}},[l("ListComponent",{attrs:{relations:t.modelRelations}})],1)],1),l("v-tab-item",{staticStyle:{height:"calc(90vh - 70px)"}},[l("EditComponent",{attrs:{title:t.modelTitle,fields:t.modelFields,schoolings:t.schoolingsExist?t.modelSchoolings:void 0,children:t.modelChildren,relations:t.modelRelations}})],1),l("v-tab-item",[l("v-card",{attrs:{flat:""}},[l("v-card-text",[l("div",{staticClass:"headline font-weight-light",style:{color:t.colour}},[t._v("Are you sure?")]),l("div",{staticClass:"display-1 font-weight-light"},[t._v("Other related entries can be affected by this deletion.")])])],1)],1)],1)],1):t._e()},i=[],s=(l("ac6a"),l("456d"),l("2a68")),n=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("v-timeline",{attrs:{dense:""}},t._l(t.relations,function(e){return l("v-timeline-item",{attrs:{small:"","fill-dot":"",color:t.colour}},[l("SmallList",{attrs:{list:e.selected,url:t.getUrl(e),title:t.getTitle(e.model[0],e.model[1])}}),l("v-divider"),l("br")],1)}),1)],1)},r=[],a=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("v-data-table",{attrs:{dense:"",loading:t.loading,headers:t.headers,items:t.items,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[l("v-toolbar",{attrs:{flat:""}},[l("h2",{class:"headline font-weight-light mb-4",style:{color:t.colour}},[t._v(t._s(t.title)+" LIST")]),l("v-spacer"),l("v-flex",{attrs:{xs6:"",md2:""}},[l("v-text-field",{attrs:{label:"search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)]},proxy:!0},{key:"item",fn:function(e){var o=e.item;return[l("tr",{on:{click:function(e){return t.$router.replace({name:"detail",params:{app:t.$route.params.app,type:t.$route.params.type,pk:o.id}})}}},t._l(t.headers,function(e){return l("td",[t._v(t._s(o[e.value]))])}),0)]}}])})},c=[],d={name:"SmallList",props:["model","title","url","list"],created:function(){var t=this;console.log(this.url),console.log(this.list),this.$store.dispatch("loadRelationList",{url:this.url,list:this.list,token:localStorage.getItem("user-token")}).then(function(e){t.items=e,t.computeHeaders()},function(e){t.loading=!1})},data:function(){return{loading:!0,headers:[],items:[],search:""}},methods:{computeHeaders:function(){var t=this;console.log(this.items),Object.keys(this.items[0]).forEach(function(e){t.headers.push({align:"left",text:e.charAt(0).toUpperCase()+e.slice(1),value:e})}),this.loading=!1}},computed:{colour:function(){return this.$store.getters.colourGetter}}},u=d,h=l("2877"),m=l("6544"),f=l.n(m),v=l("8fea"),p=l("0e8f"),b=l("2fa4"),_=l("8654"),g=l("71d9"),y=Object(h["a"])(u,a,c,!1,null,null,null),S=y.exports;f()(y,{VDataTable:v["a"],VFlex:p["a"],VSpacer:b["a"],VTextField:_["a"],VToolbar:g["a"]});var C={name:"ListComponent",components:{SmallList:S},created:function(){},props:["relations"],methods:{getTitle:s["c"],getUrl:function(t){return this.$store.state.structure[t.model[0]][t.model[1]].list_api}},computed:{colour:function(){return this.$store.getters.colourGetter}}},x=C,$=l("ce7e"),k=l("8414"),E=l("1e06"),w=Object(h["a"])(x,n,r,!1,null,null,null),V=w.exports;f()(w,{VDivider:$["a"],VTimeline:k["a"],VTimelineItem:E["a"]});var T=l("0f9f"),O=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("SchoolingEdit",{attrs:{openCreate:t.openCreate,closeCreate:t.closeCreate,schoolings:t.schoolings}}),l("v-timeline",{attrs:{dense:""}},[t._l(t.schoolings,function(e){return l("v-timeline-item",{attrs:{small:"","fill-dot":"",color:t.colour}},[e.many?l("div",[l("SmallList",{attrs:{list:e.value,url:e.api,title:e.title}})],1):e.pivot?l("div",[l("h2",{class:"headline font-weight-light mb-4",style:{color:t.colour}},[t._v(t._s(e.title))]),l("v-divider"),l("PivotTable",{attrs:{structure:e.value}})],1):l("div",[l("h2",{class:"headline font-weight-light mb-4",style:{color:t.colour}},[t._v(t._s(e.title))]),l("ul",{staticStyle:{"list-style-type":"none","padding-left":"0px"}},[t._l(e.value,function(e,o){return l("li",{staticClass:"body-1",staticStyle:{clear:"both"}},[l("v-divider"),l("div",{staticStyle:{float:"left",width:"30%"}},[l("b",[t._v(t._s(t.titleEdit(o))+":")])]),l("div",{staticStyle:{float:"left",width:"50%"}},[t._v(t._s(t.printNone(e)))]),l("br")],1)}),l("v-divider")],2),l("br")]),l("br")])}),l("v-btn",{attrs:{absolute:"",right:"",bottom:"",outlined:"",color:t.colour},on:{click:function(e){t.openCreate=!0}}},[t._v("Upload New")])],2)],1)},j=[],L=function(){var t=this,e=t.$createElement,l=t._self._c||e;return 0!==Object.keys(t.structure).length?l("v-simple-table",[l("thead",[l("tr",[l("th"),t._l(t.colnames,function(e){return l("th",{staticClass:"text-left"},[l("b",[t._v(t._s(e))])])})],2)]),l("tbody",t._l(t.rownames,function(e){return l("tr",[l("td",[l("b",[t._v(t._s(e))])]),t._l(t.structure,function(o){return l("td",[t._v(t._s(o[e]))])})],2)}),0)]):t._e()},I=[],D={name:"",props:["structure"],computed:{colnames:function(){return Object.keys(this.structure)},rownames:function(){return Object.keys(this.structure[this.colnames[0]])}}},N=D,F=l("1f4f"),R=Object(h["a"])(N,L,I,!1,null,null,null),G=R.exports;f()(R,{VSimpleTable:F["a"]});var U=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("v-dialog",{model:{value:t.openCreate,callback:function(e){t.openCreate=e},expression:"openCreate"}},[l("v-card",{staticStyle:{"overflow-y":"scroll"},attrs:{flat:"",height:"calc(90vh - 70px)"}},[l("v-card-text",[t._l(t.schoolings,function(e){return l("div",["fields"in e?l("div",[l("SmallEditComponent",{attrs:{title:e.title,fields:e.fields}})],1):t._e()])}),l("v-btn",{attrs:{outlined:"",color:t.colour},on:{click:t.test}},[t._v("Submit")])],2)],1),l("v-btn",{on:{click:t.closeCreate}},[t._v("CLOSE THIS MONSTROSITY")])],1)},A=[],H=l("fe3b"),q={name:"EditSchooling",components:{SmallEditComponent:H["a"]},props:["openCreate","closeCreate","schoolings"],computed:{colour:function(){return this.$store.getters.colourGetter}}},B=q,J=l("8336"),P=l("b0af"),M=l("99d9"),Y=l("169a"),z=Object(h["a"])(B,U,A,!1,null,null,null),K=z.exports;f()(z,{VBtn:J["a"],VCard:P["a"],VCardText:M["b"],VDialog:Y["a"]});var Q={name:"ListComponent",components:{SmallList:S,PivotTable:G,SchoolingEdit:K},data:function(){return{openCreate:!1}},props:["schoolings"],computed:{colour:function(){return this.$store.getters.colourGetter}},methods:{titleEdit:s["f"],printNone:s["e"],fields:function(){var t={};return Object.keys(schoolings).forEach(function(e){"fields"in schoolings[e]&&(t[e]=schoolings[e].fields)}),t},closeCreate:function(){this.openCreate=!1}}},W=Q,X=Object(h["a"])(W,O,j,!1,null,null,null),Z=X.exports;f()(X,{VBtn:J["a"],VDivider:$["a"],VTimeline:k["a"],VTimelineItem:E["a"]});var tt={name:"detail",components:{ListComponent:V,EditComponent:T["a"],SchoolingComponent:Z},data:function(){return{detailData:{}}},methods:{titleEdit:s["f"],printNone:s["e"],ifObjectNotEmpty:function(){Object.keys(yourObject).length}},created:function(){var t=this;this.$store.dispatch("refresh",{token:localStorage.getItem("user-token")}).then(this.$store.dispatch("loadData",{app:this.$route.params.app,type:"detail",pk:this.$route.params.pk,model:this.$route.params.type,token:localStorage.getItem("user-token")})).catch(function(e){t.$router.push("/login")})},computed:{colour:function(){return this.$store.getters.colourGetter},modelComputed:function(){return void 0!==this.$store.state.model.form_fields&&0!==Object.keys(this.$store.state.model.form_fields).length},modelTitle:function(){return this.$store.state.model.title},modelFields:function(){return this.$store.state.model.form_fields.fields},modelChildren:function(){return this.$store.state.model.form_fields.children},modelRelations:function(){return this.$store.state.model.form_fields.relations},schoolingsExist:function(){return"schoolings"in this.$store.state.model.form_fields},modelSchoolings:function(){return this.$store.state.model.form_fields.schoolings},isEditable:function(){return this.$store.state.model.noteditable}}},et=tt,lt=l("a523"),ot=l("a722"),it=l("71a3"),st=l("c671"),nt=l("fe57"),rt=Object(h["a"])(et,o,i,!1,null,null,null);e["default"]=rt.exports;f()(rt,{VCard:P["a"],VCardText:M["b"],VContainer:lt["a"],VDivider:$["a"],VLayout:ot["a"],VTab:it["a"],VTabItem:st["a"],VTabs:nt["a"]})}}]);
//# sourceMappingURL=chunk-2d0a2d59.8361a67f.js.map