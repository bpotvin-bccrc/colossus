(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bff12"],{4055:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-timeline",{attrs:{dense:""}},[o("v-timeline-item",{attrs:{small:"","fill-dot":"",color:e.colour}},[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",[e._v(" "+e._s(e.$route.params.app.toUpperCase())+" "+e._s(e.$route.params.type.toUpperCase())+" LIST")]),o("v-spacer"),o("v-text-field",{staticClass:"mx-4",attrs:{label:"Search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),o("v-timeline-item",{attrs:{small:"","fill-dot":"",color:e.colour}},[o("v-btn",{attrs:{absolute:"",dark:"",fab:"",bottom:"",left:"",color:e.colour},on:{click:function(t){e.openCreate=!0}}},[o("v-icon",[e._v("add")])],1),o("CreateNew",{attrs:{openCreate:e.openCreate,closeCreate:e.closeCreate}}),o("v-data-table",{attrs:{"fixed-header":"",loading:e.loading,headers:e.headers,items:e.items,height:"calc(90vh - 200px)",search:e.search,"items-per-page":30,"footer-props":{itemsPerPageOptions:[15,20,30,50,100],showFirstLastPage:!0,firstIcon:"mdi-arrow-collapse-left",lastIcon:"mdi-arrow-collapse-right",prevIcon:"mdi-minus",nextIcon:"mdi-plus"}},scopedSlots:e._u([{key:"item",fn:function(t){var a=t.item;return[o("tr",{on:{click:function(t){return e.$router.replace({name:"detail",params:{app:e.$route.params.app,type:e.$route.params.type,pk:a.id}})}}},e._l(e.headers,function(t){return o("td",[e._v("\n          "+e._s(a[t.value])+"\n        ")])}),0)]}}])})],1)],1)],1)},r=[],n=(o("456d"),o("ac6a"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-dialog",{model:{value:e.openCreate,callback:function(t){e.openCreate=t},expression:"openCreate"}},[o("EditComponent",{attrs:{title:e.modelTitle,fields:e.modelFields,children:e.modelChildren,relations:e.modelRelations}}),o("v-btn",{on:{click:e.closeCreate}},[e._v(" CLOSE THIS MONSTROSITY ")])],1)}),s=[],l=o("0f9f"),i={name:"CreateNew",components:{EditComponent:l["a"]},props:["openCreate","closeCreate"],created:function(){console.log("FEFE")},computed:{modelTitle:function(){return this.$store.state.model.title},modelFields:function(){return this.$store.state.model.form_fields.fields},modelChildren:function(){return this.$store.state.model.form_fields.children},modelRelations:function(){return this.$store.state.model.form_fields.relations},colour:function(){return this.$store.getters.colourGetter}}},c=i,u=o("2877"),d=o("6544"),p=o.n(d),m=o("8336"),f=o("169a"),h=Object(u["a"])(c,n,s,!1,null,null,null),v=h.exports;p()(h,{VBtn:m["a"],VDialog:f["a"]});var C={name:"ListView",components:{CreateNew:v},created:function(){var e=this;this.$store.dispatch("refresh",{token:localStorage.getItem("user-token")}).then(this.$store.dispatch("loadData",{app:this.$route.params.app,type:"list",model:this.$route.params.type,token:localStorage.getItem("user-token")}).then(function(t){e.items=t,e.computeHeaders(),console.log(e.items)},function(e){})).catch(function(t){e.$router.push("/login")})},data:function(){return{openCreate:!1,loading:!0,headers:[],items:[],search:""}},methods:{computeHeaders:function(){var e=this;Object.keys(this.items[0]).forEach(function(t){e.headers.push({align:"left",text:t.charAt(0).toUpperCase()+t.slice(1),value:t})}),this.loading=!1},closeCreate:function(){this.openCreate=!1}},computed:{colour:function(){return this.$store.getters.colourGetter}}},g=C,b=o("8fea"),$=o("132d"),k=o("2fa4"),_=o("8654"),w=o("8414"),T=o("1e06"),V=o("71d9"),x=o("2a7f"),I=Object(u["a"])(g,a,r,!1,null,null,null);t["default"]=I.exports;p()(I,{VBtn:m["a"],VDataTable:b["a"],VIcon:$["a"],VSpacer:k["a"],VTextField:_["a"],VTimeline:w["a"],VTimelineItem:T["a"],VToolbar:V["a"],VToolbarTitle:x["a"]})}}]);
//# sourceMappingURL=chunk-2d0bff12.40bbffcd.js.map